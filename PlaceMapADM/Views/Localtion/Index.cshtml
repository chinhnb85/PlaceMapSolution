@{
    ViewBag.Title = "Quản lý địa điểm";
}

<div class="row">
    <div class="widget">
        <div class="widget-header ">
            <span class="widget-caption">Quản lý địa điểm</span>
            <div class="widget-buttons">
                <a href="#" data-toggle="maximize">
                    <i class="fa fa-expand"></i>
                </a>
                <a href="#" data-toggle="collapse">
                    <i class="fa fa-minus"></i>
                </a>
            </div>
        </div>
        <div class="widget-body">
            <div class="form-group">
                <a id="btnAddNewLocaltion" class="btn btn-info btn-xs hideform"><i class="fa fa-plus"></i> Thêm địa điểm</a>
            </div>
            <form role="form" id="insert-localtion" style="display:none;">
                <fieldset class="fieldset">
                    <legend class="legend">Thêm địa điểm</legend>
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <span class="input-icon icon-right">
                                    <input type="text" id="txtName" name="txtName" class="form-control" placeholder="Tên địa chỉ" />
                                    <i class="glyphicon glyphicon-map-marker circular"></i>
                                </span>
                            </div>
                            <div class="form-group">
                                <span class="input-icon icon-right">
                                    <input type="text" id="txtLag" name="txtLag" class="form-control" placeholder="Kinh độ" />
                                    <i class="glyphicon glyphicon-tint circular"></i>
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <input type="hidden" id="txtAvatar" name="txtAvatar" value="/assets/img/avatars/no-avatar.gif" />
                                <div class="viewimg">
                                    <img id="imgViewAvatar" src="/assets/img/avatars/no-avatar.gif" width="84" />
                                </div>
                                <span class="btn btn-default btn-sm" id="btn_AvatarLocaltion">Đổi ảnh địa điểm</span>
                                <input type="file" class="upload" id="f_AvatarLocaltion" style="display: none;">
                            </div>
                        </div>                        
                    </div>                    
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <span class="input-icon icon-right">
                                    <input type="text" id="txtLng" name="txtLng" class="form-control" placeholder="Vĩ độ" />
                                    <i class="glyphicon glyphicon-tint circular"></i>
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <span class="input-icon icon-right">
                                    <input type="text" id="txtEmail" name="txtEmail" class="form-control" placeholder="Email" />
                                    <i class="fa fa-envelope-o circular"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <span class="input-icon icon-right">
                                    <input type="text" id="txtPhone" name="txtPhone" class="form-control" placeholder="Phone" />
                                    <i class="glyphicon glyphicon-earphone"></i>
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <select id="sltAccount" name="sltAccount" style="border-radius: 0;width: 100%">
                                    <option value="0">---Chọn tài khoản---</option>
                                    <script id="data-list-account" type="x-tmpl-mustache">
                                        <option value="{{id}}">{{displayName}}</option>
                                    </script>
                                </select>
                            </div>                            
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <select id="sltTinhThanh" name="sltTinhThanh" style="border-radius: 0;width: 100%">
                                    <option value="0">---Chọn tỉnh/thành phố---</option>
                                    <script id="data-list-tinhthanh" type="x-tmpl-mustache">
                                        <option value="{{id}}">{{displayName}}</option>
                                    </script>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <select id="sltQuanHuyen" name="sltQuanHuyen" style="border-radius: 0;width: 100%">
                                    <option value="0">---Chọn quận/huyện---</option>
                                    <script id="data-list-quanhuyen" type="x-tmpl-mustache">
                                        <option value="{{id}}">{{displayName}}</option>
                                    </script>
                                </select>
                            </div>                            
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <span class="input-icon icon-right">
                                    <input type="text" class="form-control" id="txtAddress" name="txtAddress" placeholder="Địa chỉ">
                                    <i class="glyphicon glyphicon-briefcase"></i>
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" id="cbxStatus" name="cbxStatus" class="colored-blue" />
                                        <span class="text">Trạng thái</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">                        
                        <div class="col-sm-12">
                            <div class="form-group" style="margin-top: 10px; text-align: center; margin-bottom: 0;">
                                <a id="btnSaveLocaltion" data-id="0" class="btn btn-info btn-sm"><i class="fa fa-save"></i> Lưu</a>
                                <a id="btnCancel" class="btn btn-default btn-sm"><i class="fa fa-recycle"></i> Hủy bỏ</a>
                                <input type="hidden" id="hdLocaltionId" name="hdLocaltionId" value="0"/>
                            </div>
                        </div>                        
                    </div>
                </fieldset>
            </form>

            <fieldset class="fieldset">
                <legend class="legend">Bộ lọc</legend>
                <div class="row">
                    <div class="col-sm-6">
                        <span class="input-icon icon-right">
                            <input type="text" id="keySearch" name="keySearch" class="form-control" placeholder="Tìm kiếm...">
                            <i class="glyphicon glyphicon-search circular"></i>
                        </span>
                    </div>
                </div>
            </fieldset>

            <div class="dataTables_wrapper form-inline no-footer">
                <table class="table table-striped table-hover table-bordered">
                    <thead>
                        <tr role="row">
                            <th style="width: 10%">
                                Stt
                            </th>
                            <th>
                                Ảnh
                            </th>
                            <th>
                                Tên
                            </th>
                            <th>
                                Tài khoản
                            </th>
                            <th>
                                Ngày tạo
                            </th>
                            <th style="width: 9%">
                                Trạng thái
                            </th>
                            <th style="width: 20%">
                            </th>
                        </tr>
                    </thead>
                    <tbody id="listAllLocaltion"></tbody>
                    <script id="package-data" type="x-tmpl-mustache">
                        <tr>
                            <td>
                                {{stt}}
                            </td>
                            <td>
                                <img src='{{avatar}}' width="32" />
                            </td>
                            <td>
                                {{name}}
                            </td>
                            <td>
                                {{userName}}
                            </td>
                            <td>
                                {{createdDate}}
                            </td>
                            <td style="position:relative;">
                                <input class="checkbox-slider slider-icon colored-success" type="checkbox" {{statusLoc}} data-id="{{id}}">
                                <span class="text"></span>
                            </td>
                            <td style="text-align:center;">
                                <a href="/?accountId={{accountId}}&lag={{lag}}&lng={{lng}}" class="btn btn-primary btn-xs"><i class="fa fa-map-marker"></i> Map</a>
                                <a href="javascript:void(0)" class="btn btn-info btn-xs edit" data-id="{{id}}"><i class="fa fa-edit"></i> Sửa</a>
                                <a href="javascript:void(0)" class="btn btn-danger btn-xs delete" data-id="{{id}}"><i class="fa fa-trash-o"></i> Xóa</a>
                            </td>
                        </tr>
                    </script>
                </table>
                <div class="DTTTFooter">
                    <div class="col-sm-6">
                        <select class="form-control input-sm" id="sltPageSize" style="width: 60px; height: 34px; margin-bottom: 5px;">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="30">30</option>
                            <option value="50">50</option>
                        </select>
                    </div>
                    <div class="col-sm-6">
                        <div class="dataTables_paginate paging_bootstrap hide" id="pager">
                            <ul class="pagination">
                                <li class="prev disabled btnPrevious"><a id="btnPrevious" href="javascript:void(0)">Prev</a></li>
                                <li class="next btnNext"><a href="javascript:void(0)" id="btnNext">Next</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section PageScripts {   
    @Scripts.Render("~/bundles/select2") 
}

